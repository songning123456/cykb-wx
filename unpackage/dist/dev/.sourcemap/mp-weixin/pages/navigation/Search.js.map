{"version":3,"sources":["webpack:///C:/project/cykb-wx/main.js","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue?d38e","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue?250f","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue?5c58","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue?42d4","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue?dc0d","webpack:///C:/project/cykb-wx/pages/navigation/Search.vue?a1e0"],"names":["createPage","Page","name","data","searchText","searchHistory","fastResult","debounceTimeout","onLoad","uni","getStorageSync","methods","inputBtn","e","clearTimeout","setTimeout","fastQueryBooks","detail","value","confirmBtn","obj","authorOrTitle","filter","item","unshift","setStorageSync","navigateTo","url","JSON","stringify","type","fastSearchBtn","novels","title","author","queryHistoryBtn","history","src","length","result","forEach","push","params","request","get","then","status","clearBtn","deleteSearchHistoryBtn","removeStorageSync"],"mappings":"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","file":"pages/navigation/Search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/navigation/Search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Search.vue?vue&type=template&id=52b2de54&scoped=true&\"\nvar renderjs\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=52b2de54&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52b2de54\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('52b2de54')) {\n      api.createRecord('52b2de54', component.options)\n    } else {\n      api.reload('52b2de54', component.options)\n    }\n    module.hot.accept(\"./Search.vue?vue&type=template&id=52b2de54&scoped=true&\", function () {\n      api.rerender('52b2de54', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"project/cykb-wx/pages/navigation/Search.vue\"\nexport default component.exports","export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Search.vue?vue&type=template&id=52b2de54&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport request from '../../util/request';\n\nexport default {\n    name: 'Search',\n    data() {\n        return {\n            searchText: '',\n            searchHistory: [],\n            fastResult: [],\n            debounceTimeout: null\n        };\n    },\n    onLoad() {\n        this.searchHistory = uni.getStorageSync('searchHistory') || [];\n    },\n    methods: {\n        inputBtn(e) {\n            if (this.debounceTimeout) {\n                clearTimeout(this.debounceTimeout);\n                this.debounceTimeout = null;\n            }\n            this.debounceTimeout = setTimeout(() => {\n                this.fastQueryBooks(e.detail.value);\n            }, 1000);\n        },\n        confirmBtn(e) {\n           if (e.detail.value) {\n               let obj = {\n                   authorOrTitle: e.detail.value\n               };\n               this.searchHistory = this.searchHistory.filter(item => item.authorOrTitle !== e.detail.value);\n               this.searchHistory.unshift(obj);\n               uni.setStorageSync('searchHistory', this.searchHistory);\n               uni.navigateTo({url: '/pages/result/SearchResult?params=' + JSON.stringify({type: 'searchResult', authorOrTitle: e.detail.value})});\n           }\n        },\n        fastSearchBtn(novels) {\n            let obj = {\n                authorOrTitle: novels.title + '    ' + novels.author,\n                novels: novels\n            };\n            this.searchHistory = this.searchHistory.filter(item => item.authorOrTitle !== (novels.title + '    ' + novels.author));\n            this.searchHistory.unshift(obj);\n            uni.setStorageSync('searchHistory', this.searchHistory);\n            uni.navigateTo({ url: '/pages/bookdetail/BookDetail?novels=' + JSON.stringify(novels)});\n        },\n        queryHistoryBtn(history) {\n            let src = uni.getStorageSync('searchHistory');\n            if (src && src.length > 0) {\n                let result = [];\n                src.forEach(item => {\n                    if (JSON.stringify(item) === JSON.stringify(history)) {\n                        result.unshift(item);\n                    } else {\n                        result.push(item);\n                    }\n                });\n                this.searchHistory = result;\n                uni.setStorageSync('searchHistory', result);\n            }\n            if (history.novels) {\n                uni.navigateTo({ url: '/pages/bookdetail/BookDetail?novels=' + JSON.stringify(history.novels)})\n            } else {\n                uni.navigateTo({url: '/pages/result/SearchResult?params=' + JSON.stringify({type: 'searchResult', authorOrTitle: history.authorOrTitle})});\n            }\n        },\n        fastQueryBooks(authorOrTitle) {\n            if (authorOrTitle) {\n                let params = {\n                    authorOrTitle: authorOrTitle\n                };\n                request.get('/novels/fastSearch', params).then(data => {\n                    if (data.status === 200 && data.data.length > 0) {\n                        this.fastResult = data.data;\n                    }\n                });\n            }\n        },\n        clearBtn() {\n            this.searchText = '';\n            this.fastResult = [];\n        },\n        deleteSearchHistoryBtn() {\n            this.searchHistory = [];\n            uni.removeStorageSync('searchHistory');\n        }\n    }\n};\n","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Search.vue?vue&type=style&index=0&id=52b2de54&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Search.vue?vue&type=style&index=0&id=52b2de54&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}